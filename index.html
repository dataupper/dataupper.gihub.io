<!doctype html>
<html lang="en-us">

    <head>
	<link rel="shortcut icon" href="./images/leaf_sample.png">
        <!-- Meta -->
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <title>Carol Freza Receitas</title>
        <meta name="description" content="">

        <link rel="stylesheet" href="css/production.css">

        <link href="https://fonts.googleapis.com/css?family=Space+Mono:400,700" rel="stylesheet">

        <link rel="shortcut icon" href="favicon.ico">

    </head>

    <body class="has-animations">

    <!-- Create outer border -->
    <div class="bg--white">

        <!-- Header -->
        <header class="pt3 pb2">
            <div class="container">
            	<div style="width:100%;">
            		<img src="./images/leaf_sample.png" style="height:100px;" />
            	</div>
            	
                <div style="width:100%;">
                	<h1 class="mb3">Uma vida mais saudavel</h1>
                <h3>com receitas da Carol Freza</h3>
                </div>
           
            </div>
        </header>

        <!-- Body -->
        <main>
            <div class="container">

                  
                <div class="row">
                    <div class="column reveal-on-scroll is-revealing" style="text-align:center;margin-top:40px"">
                        <h3 style="text-align:center;">O que voce encontrara aqui</h3>
                        <p style="text-align:center;">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                        <img src="./images/leaf_sample.png" style="height:50px;float: left;" />
                    </div> 
                    <div class="column reveal-on-scroll is-revealing" style="text-align:center;">
                    	<div class="row"><img src="./images/food_sample.png" alt="terminal" style="width:30%;">
                    	<img src="./images/food_sample.png" alt="terminal" style="width:30%;"></div>
                    	
                    	<div class="row"><img src="./images/food_sample.png" alt="terminal" style="width:30%;">
                    	<img src="./images/food_sample.png" alt="terminal" style="width:30%;"></div>
           
                    </div>
                </div>


                <div class="row">
                	<div class="column reveal-on-scroll is-revealing" style="text-align:center;">
                    	<div class="row"><img src="./images/book_sample.png" alt="terminal" 
                    		style="width:40%;border-radius:20px">
                    	<img src="./images/book_sample.png" alt="terminal" style="width:40%;border-radius:20px"></div>
           
                    </div>
                    <div class="column reveal-on-scroll is-revealing" style="text-align:center;">
                        <h3 style="text-align:center;">Sobre o produto</h3>
                        <p style="text-align:center;">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                          <img src="./images/leaf_sample.png" style="height:50px;float: right;" />
                    </div> 
                  
                </div>

                <div class="row">
                	<div class="column reveal-on-scroll is-revealing" style="text-align:center;"">
                        <h3 style="text-align:center;">Sobre mim</h3>
                        <p style="text-align:center;">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                          <img src="./images/leaf_sample.png" style="height:50px;float: left;" />
                    </div> 
                	<div class="column reveal-on-scroll is-revealing" style="text-align:center;">
                    	<img src="./images/book_sample.png" alt="terminal" 
                    		style="width:200px;border-radius:2000px">
                    
                    </div>
                  
              
                </div>

                <div class="row">
                	<div class="column reveal-on-scroll is-revealing" style="text-align:center;">
                    	<img src="./images/book_sample.png" alt="terminal" 
                    		style="width:200px;border-radius:2000px">
                    
                    </div>
                	<div class="column reveal-on-scroll is-revealing" style="text-align:center;"">
                        <h3 style="text-align:center;">Cadastre-se para novidades</h3>
                        <p style="text-align:center;">Bla bla bla</p>
							<div class="field">
								<input type="text" id="email" name="email" placeholder="entre seu email" />
								<button onclick="submitEmail()" class="full">Cadastrar</button>
                                <p id="loading" style="display: none;">Carregando...</p>
                                <p id="invalid_email" style="color:red;display: none;">Email nao valido</p>
                                <p id="error_msg" style="color:red;display: none;">Algum erro ocorreu</p>
                                <p id="success_msg" style="color:green;display: none;">Sucesso</p>
							</div>
					
                    </div> 
     
                </div>

            

            </div>
        </main>

        <!-- Footer -->
        <footer class="mt2 pb3 align--center">
            <ul class="no-bullets list--inline mb0">
                <li class="m1 block-on-mobile"><a href="https://github.com/frezafoltran" class="link">Instagram</a></li>
    
            </ul>

 
        </footer>

    </div>
    </div>

    <script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script>

    <script src="js/production.js"></script>
    <script>

        const validateEmail = (email) => {
          return String(email)
            .toLowerCase()
            .match(
              /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
            );
        };

    	function submitEmail() {

            var email = document.getElementById("email").value

            var invalidEmail = document.getElementById("invalid_email");
            var success = document.getElementById("success_msg");
            var error = document.getElementById("error_msg");
            var loading = document.getElementById("loading");

            invalidEmail.style.display = "none";
            success.style.display = "none";
            error.style.display = "none";
            loading.style.display = "none";

            if (validateEmail(email)){
                var data = {"email": email}
                loading.style.display = "block";

                fetch("https://protected-escarpment-30561.herokuapp.com/log_email", {
                  method: "POST",
                  headers: {'Content-Type': 'application/json'}, 
                  body: JSON.stringify(data)
                }).then(res => {
                  console.log("Request complete! response:", res);
                  success.style.display = "block";
                  loading.style.display = "none";
                }).catch((error) => {
                    console.log(error)
                    error.style.display = "block";
                    loading.style.display = "none";
                });;
        
            }
            else {
                invalidEmail.style.display = "block";
            }
		
    	}
    
    </script>

    </body>
</html>

